<!doctype html> <!--[if IE 9]>
<html class="no-js ie9" lang="en">
   <![endif]-->
   <html class="no-js" lang="en">
      <head>
         <meta charset="utf-8"/>
         <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
         <link rel="shortcut icon" href="http://neo4j.com/wp-content/themes/neo4jzurb/favicon.ico"/>
         <title>Guide to Cypher Basics | Developer Resources | Neo4j Graph Database</title>
         <script type="text/javascript">
            var _kmq = _kmq || [];
            var _kmk = _kmk || 'a6a57b4b368caf34f5a6f2042eb075f9e559d779';
            function _kms(u){
                setTimeout(function(){
                    var d = document, f = d.getElementsByTagName('script')[0],
                        s = d.createElement('script');
                    s.type = 'text/javascript'; s.async = true; s.src = u;
                    f.parentNode.insertBefore(s, f);
                }, 1);
            }
            _kms('//i.kissmetrics.com/i.js');
            _kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');
         </script> <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            //Allow Linker
            ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
            ga('send', 'pageview');

            // Load the plugin.
            ga('require', 'linker');

            // Define which domains to autoLink.
            ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
         </script>
         <link rel="canonical" href="http://neo4j.com/guides/basic-data-modeling/"/>
         <meta property="og:locale" content="en_US"/>
         <meta property="og:type" content="article"/>
         <meta property="og:title" content="Basic Data Modeling - Neo4j Graph Database"/>
         <meta property="og:description" content="Please refer to the Neo4j Manual"/>
         <meta property="og:url" content="http://neo4j.com/guides/basic-data-modeling/"/>
         <meta property="og:site_name" content="Neo4j Graph Database"/>
         <link rel="alternate" type="application/rss+xml" title="Neo4j Graph Database &raquo; Feed" href="http://neo4j.com/feed/"/>
         <link rel="alternate" type="application/rss+xml" title="Neo4j Graph Database &raquo; Comments Feed" href="http://neo4j.com/comments/feed/"/>
         <link rel="alternate" type="application/rss+xml" title="Neo4j Graph Database &raquo; Basic Data Modeling Comments Feed" href="http://neo4j.com/guides/basic-data-modeling/feed/"/>
         <link rel='stylesheet' id='font-awesome-four-css' href="http://neo4j.com/wp-content/plugins/font-awesome-4-menus/css/font-awesome.min.css?ver=4.1.0" type='text/css' media='all'/>
         <link rel='stylesheet' id='foundation-css' href="http://neo4j.com/wp-content/themes/neo4jzurb/assets/css/app.css?ver=4.0.0" type='text/css' media='screen'/>
         <link rel='stylesheet' id='neo-codemirror-css' href="http://neo4j.com/wp-content/themes/neo4jzurb/assets/css/codemirror-neo.css?ver=4.0.0" type='text/css' media='screen'/>
         <script type='text/javascript'>
            /* <![CDATA[ */
            var ajax_object = {"ajaxurl":"http:\/\/neo4j.com\/wp-admin\/admin-ajax.php"};
            /* ]]> */
         </script> <script type='text/javascript' src='http://neo4j.com/wp-content/plugins/neo4j-download/js/download.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/plugins/jquery-updater/js/jquery-2.1.0.min.js?ver=2.1.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/vendor/modernizr.min.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/foundation.min.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/vendor/codemirror.min.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/neo_codemirror.js?ver=4.0.0'></script> <script type='text/javascript' src='//use.typekit.net/rdt4xku.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/misc.js?ver=4.0.0'></script> <script type='text/javascript' src='http://neo4j.com/wp-content/themes/neo4jzurb/assets/js/neo_calculator_v3.js?ver=4.0.0'></script>
         <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://neo4j.com/xmlrpc.php?rsd"/>
         <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://neo4j.com/wp-includes/wlwmanifest.xml"/>
         <meta name="generator" content="WordPress 3.9.2"/>
         <link rel='shortlink' href="http://neo4j.com/?p=32079"/>
         <style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
      </head>
      <body>
         <div class="off-canvas-wrap">
            <div class="inner-wrap">
               <aside class="left-off-canvas-menu">
                  <ul class="off-canvas-list">
                     <li><a href="http://neo4j.com/use-cases/">Use Cases</a></li>
                     <li><a href="http://neo4j.com/customers/">Customers</a></li>
                     <li><a href="http://neo4j.com/community/">Community</a></li>
                     <li><a href="http://neo4j.com/docs/">Docs</a></li>
                     <li>
                        <div class="medium-3 columns headspace-20">
                           <div class="row collapse">
                              <div class="small-10 columns">
                                 <form role="search" method="get" id="searchform" class="searchform" action="http://neo4j.com/">
                                    <input type="text" name="s" id="s"/>
                              </div>
                              <div class="small-2 columns"> <div class="button postfix"> <input type="image" id="searchsubmit" src="http://www.neo4j.com/wp-content/themes/neo4jzurb/assets/images/searchicon.png" style="vertical-align:middle;"/> </form> </div> </div>
                           </div>
                        </div>
                     </li>
                  </ul>
               </aside>

               <article id="content" role="main">
                 <div class="row" style="padding: 10px 0 0;">
                   <div class="columns large-12" style="padding:10px 0 0;">
                   <ul class="breadcrumbs"> <li><a href="/developer-resources">Developer Guides</a></li> <li><a href="../">Cypher</a></li> <li class="current"><a href="#">Introduction to Cypher</a></li> </ul>
                 </div>
                 </div>
                 <div class="row">
                   <div class="columns large-12" style="padding: 0;">
                   <h1 style="font-size:2.1rem;">Guide to Cypher Basics</h1>
                 </div>
                 </div>
                  <section class="row" style="padding:10px 0;">

                  <div class="large-12 columns" style="padding-top:0;">


<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<div class="title">Goals</div><blockquote>
prose that explains the goals of this guide
</blockquote>
</div>
<div class="quoteblock abstract">
<div class="title">Prerequisites</div><blockquote>
prose and links to prerequisites also target audience
</blockquote>
</div>


<div class="label">Beginner</div>
<hr/>

<div class="toc">
<h3 class="title">Overview</h3>
<ul class="sectlevel2">
<li><a href="#_pop_cultural_connections">Pop-cultural connections</a></li>
<li><a href="#_create">Create</a></li>
<li><a href="#_find">Find</a></li>
<li><a href="#_query">Query</a></li>
<li><a href="#_solve">Solve</a></li>
<li><a href="#_clean_up">Clean up</a></li>
</ul>
</div>
</div>
<div class="sect2 columns medium-9" style='padding-left: 0;' >
    
<h4 id="_pop_cultural_connections">Pop-cultural connections</h4>


<div class="paragraph">
<p><em>The Movie Graph</em> is a mini graph application containing actors and directors that are related through the movies they&#8217;ve collaborated on.</p>
</div>



<div class="paragraph">
<p>This guide will show you how to:</p>
</div>

<div class="olist arabic">
<ol class="arabic">
<li>
<p style="margin-bottom: 0.75rem;">Create: insert movie data into the graph</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Find: retrieve individual movies and actors</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Query: discover related actors and directors</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Solve: the Bacon Path</p>
</li>
</ol>
</div>
</div>
<div class="sect2 columns medium-9" style='padding-left: 0;' >
    
<h4 id="_create">Create</h4>


<div class="paragraph">
<p>Hidden below this text is a giant code block containing a single Cypher query statement composed of multiple CREATE clauses. This will create the movie graph.</p>
</div>



<div class="paragraph">
<p>(You can unfold it with the little [role='icon-plus-sign-alt']plus button)</p>
</div>



<div class="paragraph">
<p><a href="#CYPHER">:help Cypher</a>, <a href="#CREATE">:help CREATE</a></p>
</div>

</div>
<div class="sect2 columns medium-9" style='padding-left: 0;' >
    
<h4 id="_find">Find</h4>


<div class="paragraph">
<p>Example queries for finding individual nodes.</p>
</div>

<div class="olist arabic">
<ol class="arabic">
<li>
<p style="margin-bottom: 0.75rem;">Look on every query example</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Run the query with the play button</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Notice the syntax pattern</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Try looking for other movies or actors</p>
</li>
</ol>
</div>


<div class="paragraph">
<p><a href="#MATCH">:help MATCH</a>, <a href="#WHERE">:help WHERE</a>, <a href="#RETURN">:help RETURN</a></p>
</div>

<div class="sect3 "  >
    
<h5 id="_find_the_actor_named_tom_hanks">Find the actor named "Tom Hanks"&#8230;&#8203;</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (tom {name: "Tom Hanks"})
RETURN tom</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_find_the_movie_with_title_cloud_atlas">Find the movie with title "Cloud Atlas"&#8230;&#8203;</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (cloudAtlas {title: "Cloud Atlas"})
RETURN cloudAtlas</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_find_10_people">Find 10 people&#8230;&#8203;</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (people:Person)
RETURN people.name LIMIT 10</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_find_movies_released_in_the_1990s">Find movies released in the 1990s&#8230;&#8203;</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (nineties:Movie)
WHERE nineties.released &gt; 1990 AND nineties.released &lt; 2000
RETURN nineties.title</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 columns medium-9" style='padding-left: 0;' >
    
<h4 id="_query">Query</h4>


<div class="paragraph">
<p>Finding patterns within the graph.</p>
</div>

<div class="olist arabic">
<ol class="arabic">
<li>
<p style="margin-bottom: 0.75rem;">Actors are people who acted in movies</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Directors are people who directed a movie</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">What other relationships exist</p>
</li>
</ol>
</div>


<div class="paragraph">
<p><a href="#MATCH">:help MATCH</a></p>
</div>

<div class="sect3 "  >
    
<h5 id="_list_all_tom_hanks_movies">List all Tom Hanks movies&#8230;&#8203;</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (tom:Person {name: "Tom Hanks"})-[:ACTED_IN]-&gt;(tomHanksMovies)
RETURN tom,tomHanksMovies</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_who_directed_cloud_atlas">Who directed "Cloud Atlas"?</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (cloudAtlas {title: "Cloud Atlas"})&lt;-[:DIRECTED]-(directors)
RETURN directors.name</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_tom_hanks_co_actors">Tom Hanks' co-actors&#8230;&#8203;</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (tom:Person {name:"Tom Hanks"})-[:ACTED_IN]-&gt;(m)&lt;-[:ACTED_IN]-(coActors)
RETURN tom, m, coActors</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_how_people_are_related_to_cloud_atlas">How people are related to "Cloud Atlas"&#8230;&#8203;</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (people:Person)-[relatedTo]-(:Movie {title: "Cloud Atlas"})
RETURN people.name, Type(relatedTo), relatedTo</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 columns medium-9" style='padding-left: 0;' >
    
<h4 id="_solve">Solve</h4>


<div class="paragraph">
<p>You&#8217;ve heard of the classic "Six Degrees of Kevin Bacon"? That is simply a shortest path query called the "Bacon Path".</p>
</div>

<div class="olist arabic">
<ol class="arabic">
<li>
<p style="margin-bottom: 0.75rem;">Variable length patterns</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Built-in shortestPath() algorithm</p>
</li>
</ol>
</div>


<div class="paragraph">
<p><a href="http://docs.neo4j.org/chunked/stable/query-match.html#match-variable-length-relationships">variable length relationships</a>
<a href="http://docs.neo4j.org/chunked/stable/query-match.html#match-shortest-path">shortestPath</a></p>
</div>

<div class="sect3 "  >
    
<h5 id="_movies_and_actors_up_to_3_hops_away_from_kevin_bacon">Movies and actors up to 3 "hops" away from Kevin Bacon</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (bacon:Person {name:"Kevin Bacon"})-[*1..3]-(hollywood)
RETURN DISTINCT hollywood</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_bacon_path_the_shortest_path_of_any_relationships_to_meg_ryan">Bacon path, the shortest path of any relationships to Meg Ryan</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH p=shortestPath(
  (bacon:Person {name:"Kevin Bacon"})-[*]-(meg:Person {name:"Meg Ryan"})
)
RETURN p</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2 columns medium-9" style='padding-left: 0;' >
    
<h4 id="_clean_up">Clean up</h4>


<div class="paragraph">
<p>When you&#8217;re done experimenting, you can remove the movie data set.</p>
</div>

<div class="olist NOTE">
<ol class="NOTE">
<li>
<p style="margin-bottom: 0.75rem;">Nodes can&#8217;t be deleted if relationships exist</p>
</li>
<li>
<p style="margin-bottom: 0.75rem;">Delete both nodes and relationships together</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title label">Warning</div>
</td>
<td class="content">
This will remove all Person and Movie nodes!
</td>
</tr>
</table>
</div>


<div class="paragraph">
<p><a href="#DELETE">:help DELETE</a></p>
</div>

<div class="sect3 "  >
    
<h5 id="_delete_all_movie_and_person_nodes_and_their_relationships">Delete all Movie and Person nodes, and their relationships</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (a:Person),(m:Movie)
OPTIONAL MATCH (a)-[r1]-(), (m)-[r2]-()
DELETE a,r1,m,r2</code></pre>
</div>
</div>
</div>
<div class="sect3 "  >
    
<h5 id="_prove_that_the_movie_graph_is_gone">Prove that the Movie Graph is gone</h5>
<div class="listingblock example-panel">
<div class="content code-panel" style="width:100%;height:auto;">
<pre  class="code programlisting cm-s-neo" data-lang="cypher"><code>MATCH (n)
RETURN count(*)</code></pre>
</div>
</div>
</div>
</div>
</div>

</div>
</section>


            </article>
      <script>
         jQuery(document).foundation({
           tab: {
             callback : function (tab) {
               $(window).trigger('resize');
             }
           }
         });
      </script>
   </body>
</html>